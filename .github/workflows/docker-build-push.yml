name: Docker Image Build and Push

on:
  workflow_dispatch:
    inputs:
      NAROU_VERSION:
        type: text
        required: true
        description: narouのバージョン https://rubygems.org/gems/narou/versions
      AOZORAEPUB3_VERSION:
        type: text
        required: true
        default: 1.1.1b24Q
      

jobs:

  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4
    - name: Build the Docker image
      run: docker build . --tag haoling/narou:${{ inputs.NAROU_VERSION }} --build-arg NAROU_VERSION=${{ inputs.NAROU_VERSION }}
